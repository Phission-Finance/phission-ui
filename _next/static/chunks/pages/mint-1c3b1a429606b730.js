(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{17537:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mint",function(){return t(21839)}])},53722:function(n,e,t){"use strict";var o=t(47568),a=t(34051),s=t.n(a),r=t(85893),i=t(67294),l=t(35005),c=t(94506),u=t.n(c),d=t(99974),f=(t(35714),t(2593)),m=t(85827);e.Z=function(n){var e=n.tokenIn,t=n.tokenInAmount,a=n.spender,c=n.setApprovalNeeded,v=(0,m.yL)(),p=(0,m.mx)().data,b=(0,m.mA)(),h=b.address,x=(b.isConnecting,b.isDisconnected,(0,i.useState)(!1)),_=x[0],y=x[1],g=(0,i.useState)({loading:!1,text:"Approve"}),j=g[0],k=g[1],w=(0,m.do)({addressOrName:e.address,contractInterface:e.abi,functionName:"allowance",args:[h,null===a||void 0===a?void 0:a.contract.address],watch:!0,onSuccess:function(n){console.log("Allowance Success",n)},onError:function(n){console.log("Allowance Error",n)}}).data;function N(){return(N=(0,o.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k({loading:!0,text:"Approving..."}),n.next=3,(0,d.dE)(v,p,e,a.contract.address,t).then((function(n){k({loading:!1,text:"Approve"}),n&&(y(!1),c(!1))}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,i.useEffect)((function(){a&&(a.needsApproval&&t?(console.log("Allowance",e.symbol,null===w||void 0===w?void 0:w.toString()),!(null===t||void 0===t?void 0:t.isZero())&&(null===t||void 0===t?void 0:t.gt(w||f.O$.from(0)))?(_||y(!0),c(!0)):_&&y(!1)):_&&y(!1))})),(0,r.jsx)("div",{children:(0,r.jsx)(l.Z,{variant:"primary",disabled:j.loading,hidden:!_,onClick:j.loading?null:function(){return N.apply(this,arguments)},className:u().button,children:j.text})})}},35238:function(n,e,t){"use strict";t.d(e,{Z:function(){return c}});var o=t(85893),a=t(67294),s=t(96261),r=t.n(s),i=t(85827),l=t(99974);function c(n){var e=n.label,t=n.token,s=n.setParentBalance,c=(0,i.mA)(),u=c.address,d=(c.isConnecting,c.isDisconnected,(0,i.KQ)({addressOrName:u,token:"ETH"!==t.symbol?t.address:"",watch:!0})),f=d.data,m=d.isError,v=d.isLoading;return(0,a.useEffect)((function(){s&&s(f)}),[f]),(0,o.jsxs)("div",{className:r().container,children:[(0,o.jsx)("h4",{children:m}),(0,o.jsx)("h4",{children:v}),(0,o.jsx)("h4",{children:(0,l.RV)(null===f||void 0===f?void 0:f.formatted)}),(0,o.jsxs)("label",{className:r().label,children:["Balance ",e]})]})}},86502:function(n,e,t){"use strict";var o=t(85893),a=t(67294),s=t(35005),r=t(71514),i=t.n(r);e.Z=function(n){var e=n.text,t=n.action,r=n.disabled,l=n.width,c=(0,a.useState)(!1),u=c[0],d=c[1];return(0,a.useEffect)((function(){u&&t().then((function(){d(!1)})).catch((function(n){console.error(n),d(!1)}))}),[u]),(0,o.jsx)(s.Z,{variant:"primary",disabled:u||r,onClick:u?null:function(){return d(!0)},className:i().button,width:l||"200px",children:u?"Loading\u2026":e})}},21957:function(n,e,t){"use strict";t.d(e,{Z:function(){return m}});var o=t(85893),a=t(85933),s=t(8102),r=t(5963),i=t.n(r),l=t(67294),c=t(61744),u=t(99974),d=t(35714),f=t(85827);function m(n){n.label;var e=n.values,t=n.token,r=n.onChangeInput,m=n.onChangeAsset,v=n.onChangeBalance,p=(0,l.useState)(""),b=p[0],h=p[1],x=(0,f.mA)(),_=x.address,y=(x.isConnecting,x.isDisconnected,(0,f.KQ)({addressOrName:_,token:"ETH"!==t.symbol?t.address:"",watch:!0})),g=y.data;y.isError,y.isLoading;return(0,l.useEffect)((function(){if(r){var n=setTimeout((function(){return r(b&&b>=0?b:"0")}),500);return function(){return clearTimeout(n)}}}),[b]),(0,l.useEffect)((function(){v&&v(null===g||void 0===g?void 0:g.value)}),[g]),(0,o.jsxs)("div",{className:i().container,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{min:0,value:b,className:i().swapInput,type:"number",onChange:function(n){return h(n.target.value)}}),(0,o.jsxs)("h4",{className:i().balance,children:["Bal: ",(0,u.RV)(null===g||void 0===g?void 0:g.formatted)]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(s.Z,{className:i().dropdownButton,id:"dropdown-basic-button",title:t.symbol,onSelect:function(n){m(d.s_[n])},children:e.map((function(n,e){return(0,o.jsx)(a.Z.Item,{eventKey:n,children:n},e)}))}),(0,o.jsx)("button",{onClick:function(){if(t.symbol===d.BF.symbol){if((null===g||void 0===g?void 0:g.value)>5e16){var n=g.value-5e16;h(c.formatUnits(n.toString(),t.decimals))}}else h(g.formatted)},children:"Set Max"})]})]})}},21839:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return C}});var o=t(47568),a=t(34051),s=t.n(a),r=t(85893),i=t(214),l=t.n(i),c=t(35714),u=t(21957),d=t(85933),f=t(8102),m=t(5963),v=t.n(m),p=t(67294),b=t(99974),h=t(85827);function x(n){n.label;var e=n.values,t=n.token,o=n.onChangeInput,a=n.onChangeAsset,s=(0,p.useState)(""),i=s[0],l=s[1],u=(0,p.useState)(void 0),m=u[0],x=u[1],_=(0,p.useState)(void 0),y=_[0],g=_[1],j=(0,h.mA)().address,k=(0,h.KQ)({addressOrName:j,token:null===m||void 0===m?void 0:m.address,watch:!0}).data,w=(0,h.KQ)({addressOrName:j,token:null===y||void 0===y?void 0:y.address,watch:!0}).data;return(0,p.useEffect)((function(){if(o){var n=setTimeout((function(){return o(i&&i>=0?i:"0")}),500);return function(){return clearTimeout(n)}}}),[i]),(0,p.useEffect)((function(){c.DT[t.symbol].tokens[0].token.symbol!==(null===m||void 0===m?void 0:m.symbol)&&x(c.DT[t.symbol].tokens[0].token),c.DT[t.symbol].tokens[1].token.symbol!==(null===y||void 0===y?void 0:y.symbol)&&g(c.DT[t.symbol].tokens[1].token)}),[t]),(0,r.jsxs)("div",{className:v().container,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{min:0,value:i,className:v().swapInput,type:"number",onChange:function(n){return l(n.target.value)}}),(0,r.jsxs)("h4",{className:v().balance,children:[null===m||void 0===m?void 0:m.symbol," Bal: ",(0,b.RV)(null===k||void 0===k?void 0:k.formatted)]}),(0,r.jsxs)("h4",{className:v().balance,children:[null===y||void 0===y?void 0:y.symbol," Bal: ",(0,b.RV)(null===w||void 0===w?void 0:w.formatted)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f.Z,{className:v().dropdownButton,id:"dropdown-basic-button",title:c.DT[t.symbol].burnName,onSelect:function(n){a(c.s_[n])},children:e.map((function(n,e){return(0,r.jsx)(d.Z.Item,{eventKey:n,children:c.DT[n].burnName},e)}))}),(0,r.jsx)("button",{onClick:function(){l(k>w?null===w||void 0===w?void 0:w.formatted:null===k||void 0===k?void 0:k.formatted)},children:"Set Max"})]})]})}var _=t(61744),y=t(2593),g=t(35238),j=t(86502),k=t(53722),w=t(2086),N=t(28984),C=function(){var n=function(n){var e=c.DT[n.symbol];d(n),Z(e)},e=function(n){console.log("Mint",n,i.symbol);var e=_.parseUnits(n,i.decimals);v(e)},t=(0,h.mx)().data,a=(0,p.useState)(c.pV),i=a[0],d=a[1],f=(0,p.useState)(y.O$.from(0)),m=f[0],v=f[1],b=(0,p.useState)(c.DT[c.pV.symbol]),C=b[0],Z=b[1],E=(0,p.useState)({disabled:!0}),S=E[0],T=E[1],I=(0,p.useState)(!1),A=I[0],B=I[1],D=(0,p.useState)("Mint"),O=D[0],H=D[1];function M(){return(M=(0,o.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.mintFunc(t,m);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function P(){return(P=(0,o.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.burnFunc(t,m);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,p.useEffect)((function(){console.log("checkApprovalState",i.symbol,m.toString()),m.isZero()||A?S.disabled||T({disabled:!0}):S.disabled&&T({disabled:!1})}),[A,m]),(0,p.useEffect)((function(){}),[O]),(0,r.jsx)("div",{className:l().container,children:(0,r.jsxs)("main",{className:l().main,children:[(0,r.jsx)("div",{className:l().buttonGroup,children:(0,r.jsx)(w.Z,{children:[{name:"Mint",value:"Mint"},{name:"Burn",value:"Burn"}].map((function(n,e){return(0,r.jsx)(N.Z,{id:"radio-".concat(e),type:"radio",variant:"outline-primary",name:"radio",value:n.value,checked:O===n.value,onChange:function(n){return H(n.currentTarget.value)},children:n.name},e)}))})}),"Mint"===O?(0,r.jsx)(u.Z,{label:"Asset In",values:Object.keys(c.T0).sort(),onChangeInput:e,token:i,onChangeAsset:n,onChangeBalance:void 0}):(0,r.jsx)(x,{label:"Asset In",values:Object.keys(c.T0).filter((function(n){return!("ETH"===n&&"Burn"===O)})).sort(),onChangeInput:e,token:i,onChangeAsset:n}),"Mint"===O?(0,r.jsx)("div",{className:l().horizontalContainer,children:C.tokens.map((function(n,e){return(0,r.jsx)(g.Z,{label:n.token.symbol,token:n.token,setParentBalance:void 0},n.token.symbol)}))}):(0,r.jsx)("div",{className:l().horizontalContainer,children:(0,r.jsx)(g.Z,{label:i.symbol,token:i,setParentBalance:void 0},i.symbol)}),"Mint"===O?(0,r.jsx)(k.Z,{tokenIn:i,spender:C,tokenInAmount:m,setApprovalNeeded:B}):"",(0,r.jsx)("div",{className:l().horizontalContainer,children:"Mint"===O?(0,r.jsx)(j.Z,{text:"Mint",action:function(){return M.apply(this,arguments)},disabled:S.disabled,width:void 0}):(0,r.jsx)(j.Z,{text:"Burn",action:function(){return P.apply(this,arguments)},disabled:S.disabled,width:void 0})})]})})}},94506:function(n){n.exports={button:"approvalButton_button__LESyp"}},96261:function(n){n.exports={container:"balance_container__7C_Xe",label:"balance_label__PEcbt"}},71514:function(n){n.exports={button:"loadingButton_button__f0GQ_"}},5963:function(n){n.exports={container:"swapInput_container__y2UWD",swapInput:"swapInput_swapInput__cssZy",balance:"swapInput_balance__S3DUq",dropdownButton:"swapInput_dropdownButton__ZWzTk",value:"swapInput_value__zQtjN"}},214:function(n){n.exports={main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",horizontalContainer:"Home_horizontalContainer__bpyg8",buttonGroup:"Home_buttonGroup__6xIkp"}},2086:function(n,e,t){"use strict";var o=t(94184),a=t.n(o),s=t(67294),r=t(76792),i=t(85893);const l=s.forwardRef((({bsPrefix:n,size:e,vertical:t,className:o,as:s="div",...l},c)=>{const u=(0,r.vE)(n,"btn-group");let d=u;return t&&(d=`${u}-vertical`),(0,i.jsx)(s,{...l,ref:c,className:a()(o,d,e&&`${u}-${e}`)})}));l.displayName="ButtonGroup",l.defaultProps={vertical:!1,role:"group"},e.Z=l},28984:function(n,e,t){"use strict";var o=t(94184),a=t.n(o),s=t(67294),r=t(76792),i=t(35005),l=t(85893);const c=()=>{},u=s.forwardRef((({bsPrefix:n,name:e,className:t,checked:o,type:s,onChange:u,value:d,disabled:f,id:m,inputRef:v,...p},b)=>(n=(0,r.vE)(n,"btn-check"),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{className:n,name:e,type:s,value:d,ref:v,autoComplete:"off",checked:!!o,disabled:!!f,onChange:u||c,id:m}),(0,l.jsx)(i.Z,{...p,ref:b,className:a()(t,f&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:m})]}))));u.displayName="ToggleButton",e.Z=u}},function(n){n.O(0,[357,102,0,774,888,179],(function(){return e=17537,n(n.s=e);var e}));var e=n.O();_N_E=e}]);
//# sourceMappingURL=mint-1c3b1a429606b730.js.map